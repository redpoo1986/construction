jQuery(function(e){e("#xo-slider-slide").each(function(a,i){var t=e(i),s=t.find(".slide").length;t.find(".slide-header-append-button").on("click",function(){s++;var a=e(this).parents(".slide"),i=a.clone(!0,!0).hide();a.find("select").each(function(a,t){i.find("[name='"+e(this).attr("name")+"']").val(e(this).val())}),i.find("input, select, textarea, label").each(function(a,i){var t=e(this).attr("name");t&&e(this).attr("name",t.replace(/^(xo_slider_slides)\[(.+?)\]/,"$1["+s+"]"));var n=e(this).attr("for");n&&e(this).attr("for",n.replace(/^(xo_slider_slides)\[(.+?)\]/,"$1["+s+"]"));var l=e(this).attr("id");l&&e(this).attr("id",l.replace(/^(xo_slider_slides)\[(.+?)\]/,"$1["+s+"]"))}),i.find("input, textarea, label").each(function(a,i){e(this).val("")}),i.find("img").remove(),i.find(".filename").remove(),i.find(".message").show(),a.after(i.fadeIn("normal"))}),t.find(".slide-header-remove-button").on("click",function(){var a=e(this).parents(".slide");a.fadeOut("normal",function(){e(this).remove()})}),t.find(".slide-header-toggle-button").on("click",function(){var a=e(this).parents(".slide");a.toggleClass("closed")}),t.find(".slide-repeat").sortable({handle:".slide-header"}),t.find(".slide-image").on("click",function(a){var i;a.preventDefault();var t=e(this).parent().parent().find(".slide-image"),s=e(this).parent().find(".slide-media-type"),n=e(this).parent().find(".slide-media-id"),l=e(this).parent().find(".slide-media-link");i?i.open():(i=wp.media({title:messages.title,button:{text:messages.button},library:{type:"image,video"},multiple:!1,frame:"post"}),i.on("close",function(){if("embed"==i.state().get("id")){var e=i.state().props.toJSON();e.url=e.url||"";var a=e.url.match(/[\/?=]([a-zA-Z0-9_\-]{11})[&\?]?/);a[1]&&(s.val("youtube"),n.val("0"),l.val(e.url),t.find(".message").hide(),t.find("img").remove(),t.prepend('<img src="http://img.youtube.com/vi/'+a[1]+'/default.jpg">'),t.append('<div class="filename"><div>'+e.url+"</div></div>"))}else{var r=i.state().get("selection");r.each(function(e){var a=e.toJSON();"image"==a.type&&(s.val("image"),n.val(a.id),l.val(""),t.find(".message").hide(),t.find("img").remove(),t.prepend('<img src="'+a.sizes.thumbnail.url+'">'),t.find(".filename").remove()),"video"==a.type&&(s.val("video"),n.val(a.id),l.val(""),t.find(".message").hide(),t.find("img").remove(),t.prepend('<img src="'+a.image.src+'">'),t.find(".filename").remove(),t.append('<div class="filename"><div>'+a.filename+"</div></div>"))})}}),i.open())}),t.find(".slide-image-clear").on("click",function(a){a.preventDefault(),e(this).parent().find(".slide-media-id").val(""),e(this).parent().find("img").remove(),e(this).parent().find(".filename").remove(),e(this).parent().find(".message").show()}),t.find(".slide-panel-tabs").on("click",function(a){var i=e(a.target);return i.hasClass("nav-tab-link")&&(panelId=i.data("type"),t=i.parents(".slide-panel-wrapper").first(),e(".tabs-panel-active",t).removeClass("tabs-panel-active").addClass("tabs-panel-inactive"),e(".tabs-"+panelId,t).removeClass("tabs-panel-inactive").addClass("tabs-panel-active"),e(".tabs",t).removeClass("tabs"),i.parent().addClass("tabs")),!1})}),e("#xo-slider-parameter .parameter-panel-tabs").on("click",function(a){var i=e(a.target);return i.hasClass("nav-tab-link")&&(panelId=i.data("type"),wrapper=i.parents(".parameter-panel-wrapper").first(),e(".tabs-panel-active",wrapper).removeClass("tabs-panel-active").addClass("tabs-panel-inactive"),e(".tabs-"+panelId,wrapper).removeClass("tabs-panel-inactive").addClass("tabs-panel-active"),e(".tabs",wrapper).removeClass("tabs"),i.parent().addClass("tabs")),!1}),e("#template-select").on("change",function(){const a=e("#template-select").val();e("#xo-slider-template .template-description").removeClass("active").addClass("inactive"),e("#xo-slider-template .template-description-"+a).removeClass("inactive").addClass("active")})});